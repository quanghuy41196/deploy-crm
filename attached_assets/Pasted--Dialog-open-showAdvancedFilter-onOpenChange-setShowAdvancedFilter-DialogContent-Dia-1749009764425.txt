<Dialog open={showAdvancedFilter} onOpenChange={setShowAdvancedFilter}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>Bộ lọc nâng cao</DialogTitle>
    </DialogHeader>
    <div className="grid grid-cols-2 gap-4">
      {/* Từ ngày */}
      <div className="space-y-2">
        <Label>Từ ngày</Label>
        <Input
          type="date"
          value={advancedFilters.dateFrom}
          onChange={(e) => setAdvancedFilters({ ...advancedFilters, dateFrom: e.target.value })}
        />
      </div>
      
      {/* Đến ngày */}
      <div className="space-y-2">
        <Label>Đến ngày</Label>
        <Input
          type="date"
          value={advancedFilters.dateTo}
          onChange={(e) => setAdvancedFilters({ ...advancedFilters, dateTo: e.target.value })}
        />
      </div>

      {/* Khu vực */}
      <div className="space-y-2">
        <Label>Khu vực</Label>
        <Select
          value={advancedFilters.region}
          onValueChange={(value) => setAdvancedFilters({ ...advancedFilters, region: value })}
        >
          <SelectTrigger>
            <SelectValue placeholder="Chọn khu vực" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="">Tất cả</SelectItem>
            <SelectItem value="north">Miền Bắc</SelectItem>
            <SelectItem value="central">Miền Trung</SelectItem>
            <SelectItem value="south">Miền Nam</SelectItem>
          </SelectContent>
        </Select>
      </div>

      {/* Nguồn lead */}
      <div className="space-y-2">
        <Label>Nguồn lead</Label>
        <Select
          value={advancedFilters.leadSource}
          onValueChange={(value) => setAdvancedFilters({ ...advancedFilters, leadSource: value })}
        >
          <SelectTrigger>
            <SelectValue placeholder="Chọn nguồn" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="">Tất cả</SelectItem>
            <SelectItem value="facebook">Facebook</SelectItem>
            <SelectItem value="website">Website</SelectItem>
            <SelectItem value="referral">Giới thiệu</SelectItem>
            <SelectItem value="other">Khác</SelectItem>
          </SelectContent>
        </Select>
      </div>

      {/* Giá trị tối thiểu và tối đa */}
      <div className="space-y-2">
        <Label>Giá trị tối thiểu</Label>
        <Input
          type="number"
          value={advancedFilters.minValue}
          onChange={(e) => setAdvancedFilters({ ...advancedFilters, minValue: e.target.value })}
          placeholder="Nhập giá trị"
        />
      </div>
      <div className="space-y-2">
        <Label>Giá trị tối đa</Label>
        <Input
          type="number"
          value={advancedFilters.maxValue}
          onChange={(e) => setAdvancedFilters({ ...advancedFilters, maxValue: e.target.value })}
          placeholder="Nhập giá trị"
        />
      </div>

      {/* Nhân viên sales (chỉ hiển thị nếu có quyền xem tất cả) */}
      {permissions.canViewAllDashboard && (
        <div className="space-y-2">
          <Label>Nhân viên sales</Label>
          <Select
            value={advancedFilters.salesPerson}
            onValueChange={(value) => setAdvancedFilters({ ...advancedFilters, salesPerson: value })}
          >
            <SelectTrigger>
              <SelectValue placeholder="Chọn nhân viên" />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="">Tất cả</SelectItem>
              {ALL_SALES_USERS.map((user) => (
                <SelectItem key={user.value} value={user.value}>
                  {user.label}
                </SelectItem>
              ))}
            </SelectContent>
          </Select>
        </div>
      )}
    </div>
    
    {/* Buttons */}
    <div className="flex justify-between">
      <Button 
        variant="outline" 
        onClick={() => {
          setAdvancedFilters({
            dateFrom: "",
            dateTo: "",
            region: "",
            leadSource: "",
            minValue: "",
            maxValue: "",
            salesPerson: ""
          });
        }}
      >
        Xóa bộ lọc
      </Button>
      <div className="space-x-2">
        <Button variant="outline" onClick={() => setShowAdvancedFilter(false)}>
          Hủy
        </Button>
        <Button onClick={() => setShowAdvancedFilter(false)}>
          Áp dụng
        </Button>
      </div>
    </div>
  </DialogContent>
</Dialog>